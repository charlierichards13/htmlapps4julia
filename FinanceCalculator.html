<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paycheck Take‚ÄëHome Calculator</title>
  <style>
    :root{
      --bg1:#e9fff2;       /* pastel mint */
      --bg2:#d7f7e5;       /* deeper mint */
      --card:rgba(255,255,255,.78);
      --stroke:rgba(34,80,52,.18);
      --text:#163322;
      --muted:rgba(22,51,34,.72);
      --accent:#2ea66b;
      --good:#148a52;
      --warn:#a06a00;
      --bad:#c23a3a;
      --shadow: 0 14px 35px rgba(10, 60, 30, .12);
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 10% 10%, rgba(255,255,255,.9) 0%, rgba(255,255,255,0) 55%),
        radial-gradient(900px 700px at 90% 15%, rgba(255,255,255,.8) 0%, rgba(255,255,255,0) 55%),
        linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
      overflow-x:hidden;
      position:relative;
    }

    /* Cute background doodles (inline SVG) */
    body::before{
      content:"";
      position:fixed;
      inset:-120px;
      pointer-events:none;
      opacity:.30;
      filter: blur(.2px);
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cdefs%3E%3CradialGradient id='g' cx='50%25' cy='50%25' r='60%25'%3E%3Cstop offset='0' stop-color='%23ffffff' stop-opacity='.9'/%3E%3Cstop offset='1' stop-color='%232ea66b' stop-opacity='.0'/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect width='260' height='260' fill='none'/%3E%3Cg opacity='.95'%3E%3C!-- simple flowers --%3E%3Cg transform='translate(48 56)'%3E%3Ccircle cx='0' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='14' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='-12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='0' r='6' fill='%23ffd98a'/%3E%3C/g%3E%3Cg transform='translate(190 78) scale(1.1)'%3E%3Ccircle cx='0' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='14' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='-12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='0' r='6' fill='%23ffd98a'/%3E%3C/g%3E%3Cg transform='translate(90 190) scale(.95)'%3E%3Ccircle cx='0' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='14' cy='0' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='-12' r='10' fill='%23ffffff'/%3E%3Ccircle cx='7' cy='0' r='6' fill='%23ffd98a'/%3E%3C/g%3E%3C/g%3E%3Ccircle cx='130' cy='130' r='92' fill='url(%23g)'/%3E%3C/svg%3E");
      background-size: 260px 260px;
      background-repeat: repeat;
      transform: rotate(-6deg);
    }

    body::after{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.22;
      background-repeat:no-repeat;
      background-size: 240px 240px, 220px 220px;
      background-position: left 18px bottom 18px, right 18px top 18px;
      /* duck doodles in corners */
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240' viewBox='0 0 240 240'%3E%3Cg fill='none' stroke='%23163322' stroke-opacity='.35' stroke-width='6' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M82 138c-12-8-20-22-20-38 0-24 18-44 42-47 14-2 28 2 38 11 8-6 18-9 28-8 20 2 36 20 36 40 0 21-16 38-36 40h-2c-10 14-27 23-46 23-15 0-29-5-40-13z'/%3E%3Cpath d='M110 83c6-8 18-11 27-6'/%3E%3Cpath d='M128 98h.01'/%3E%3Cpath d='M154 98h.01'/%3E%3Cpath d='M154 114c-8 6-20 6-28 0'/%3E%3Cpath d='M88 132c-16 2-30 12-36 26 18 6 38 4 52-6'/%3E%3C/g%3E%3Cg%3E%3Ccircle cx='140' cy='86' r='10' fill='%23ffd98a' fill-opacity='.65'/%3E%3Ccircle cx='160' cy='86' r='10' fill='%23ffd98a' fill-opacity='.65'/%3E%3C/g%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220' viewBox='0 0 220 220'%3E%3Cg fill='none' stroke='%23163322' stroke-opacity='.32' stroke-width='6' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M76 130c-10-8-16-20-16-34 0-22 16-40 38-42 13-2 25 2 34 10 7-5 16-8 25-7 18 2 32 18 32 36 0 19-14 34-32 36h-2c-9 13-24 21-41 21-13 0-25-4-34-12z'/%3E%3Cpath d='M102 80c6-7 16-10 24-5'/%3E%3Cpath d='M118 94h.01'/%3E%3Cpath d='M142 94h.01'/%3E%3Cpath d='M142 108c-7 5-18 5-25 0'/%3E%3C/g%3E%3Cg%3E%3Ccircle cx='132' cy='84' r='9' fill='%23ffd98a' fill-opacity='.6'/%3E%3Ccircle cx='150' cy='84' r='9' fill='%23ffd98a' fill-opacity='.6'/%3E%3C/g%3E%3C/svg%3E");
    }

    .wrap{max-width:980px;margin:28px auto;padding:0 16px;position:relative;}
    header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;margin-bottom:18px;}
    h1{font-size:24px;margin:0;letter-spacing:.2px;}
    .sub{color:var(--muted);font-size:13px;line-height:1.45;margin-top:6px;}

    .grid{display:grid;grid-template-columns: 1.05fr .95fr;gap:16px;}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:20px;
      box-shadow: var(--shadow);
      padding:16px;
      backdrop-filter: blur(10px);
    }
    .card h2{font-size:15px;margin:0 0 10px 0;color:rgba(22,51,34,.90);}

    .row{display:grid;grid-template-columns: 1fr 170px;gap:10px;align-items:center;margin:10px 0;}
    label{font-size:13px;color:var(--muted);}

    input, select{
      width:100%;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(34,80,52,.22);
      background:rgba(255,255,255,.75);
      color:var(--text);
      outline:none;
      box-shadow: 0 2px 0 rgba(0,0,0,.02) inset;
    }
    input:focus, select:focus{border-color:rgba(46,166,107,.55);box-shadow:0 0 0 4px rgba(46,166,107,.18)}

    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid rgba(34,80,52,.22);
      background:rgba(255,255,255,.68);
      color:rgba(22,51,34,.8);
      font-size:12px;
      box-shadow: 0 10px 18px rgba(10, 60, 30, .08);
    }

    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
    button{
      cursor:pointer;
      border:1px solid rgba(46,166,107,.40);
      background:rgba(46,166,107,.14);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      font-weight:700;
    }
    button:hover{background:rgba(46,166,107,.20)}
    .mini{font-size:12px;color:var(--muted);}

    .kpi{display:grid;grid-template-columns: 1fr 1fr;gap:12px;}
    .k{padding:12px;border-radius:18px;border:1px solid rgba(34,80,52,.18);background:rgba(255,255,255,.62)}
    .k .t{font-size:12px;color:var(--muted)}
    .k .v{font-size:20px;margin-top:4px;font-weight:900;letter-spacing:.2px}

    table{width:100%;border-collapse:separate;border-spacing:0 10px;margin-top:10px;}
    td{padding:10px 12px;background:rgba(255,255,255,.62);border:1px solid rgba(34,80,52,.16);}
    tr td:first-child{border-radius:16px 0 0 16px;color:rgba(22,51,34,.92);}
    tr td:last-child{border-radius:0 16px 16px 0;text-align:right;font-variant-numeric: tabular-nums;}

    .good{color:var(--good)}
    .warn{color:var(--warn)}
    .bad{color:var(--bad)}

    footer{margin-top:14px;color:var(--muted);font-size:12px;line-height:1.5}
    .credit{margin-top:8px;font-weight:700;color:rgba(22,51,34,.78)}

    @media (max-width: 860px){ .grid{grid-template-columns:1fr;} }

    button.pillBtn{ 
      font: inherit;
      cursor:pointer;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(34,80,52,.22);
      background:rgba(255,255,255,.68);
      color:rgba(22,51,34,.8);
      font-size:12px;
      box-shadow: 0 10px 18px rgba(10, 60, 30, .08);
    }
    button.pillBtn:hover{background:rgba(255,255,255,.78)}

    /* Car planner */
    .sectionTitle{display:flex;align-items:center;gap:10px;margin:18px 0 10px;}
    .sectionTitle h2{margin:0;font-size:20px;}
    .tiny{font-size:12px;color:var(--muted);}

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Paycheck Take‚ÄëHome Calculator ü¶Üüåº</h1>
        <div class="sub">
          Julie Bear you can change any numbers on the inputs to get how much money you will get to keep
        </div>
      </div>
      <button class="pill pillBtn" id="exportTxt" title="Download a text summary">‚¨áÔ∏è Export to .txt</button>
    </header>

    <div class="grid">
      <section class="card">
        <h2>Inputs</h2>

        <div class="row">
          <label for="hours">Hours worked</label>
          <input id="hours" type="number" step="0.01" min="0" value="40" />
        </div>

        <div class="row">
          <label for="rate">Hourly rate ($/hr)</label>
          <input id="rate" type="number" step="0.01" min="0" value="20" />
        </div>

        <div class="row">
          <label for="state">State withholding (%)</label>
          <input id="state" type="number" step="0.01" min="0" value="2.5" />
        </div>

        <div class="row">
          <label for="federal">Federal withholding (%)</label>
          <input id="federal" type="number" step="0.01" min="0" value="4" />
        </div>

        <div class="row">
          <label for="savings">Savings set‚Äëaside (%)</label>
          <input id="savings" type="number" step="0.01" min="0" value="20" />
        </div>

        <div class="row">
          <label for="savingsBase">Savings taken from</label>
          <select id="savingsBase">
            <option value="afterTax" selected>After taxes</option>
            <option value="gross">Gross pay (pre‚Äëtax)</option>
          </select>
        </div>

        <div class="btns">
          <button id="reset">Reset defaults</button>
          <button id="copy">Copy summary</button>
        </div>
        <div class="mini" id="copyStatus" aria-live="polite"></div>
      </section>

      <section class="card">
        <h2>Results</h2>

        <div class="kpi">
          <div class="k">
            <div class="t">Gross pay</div>
            <div class="v" id="grossKpi">$0.00</div>
          </div>
          <div class="k">
            <div class="t">Take‚Äëhome (after taxes & savings)</div>
            <div class="v good" id="takeHomeKpi">$0.00</div>
          </div>
        </div>

        <table aria-label="Breakdown">
          <tbody>
            <tr><td>Gross pay</td><td id="gross">$0.00</td></tr>
            <tr><td id="taxableLabel">Taxable pay (basis for taxes)</td><td id="taxable">$0.00</td></tr>
            <tr><td>State withholding</td><td class="bad" id="stateAmt">-$0.00</td></tr>
            <tr><td>Federal withholding</td><td class="bad" id="fedAmt">-$0.00</td></tr>
            <tr><td><b>Total withheld (tax)</b></td><td class="bad" id="taxTotal">-$0.00</td></tr>
            <tr><td id="afterTaxLabel">Pay after taxes</td><td class="warn" id="afterTax">$0.00</td></tr>
            <tr><td>Savings set‚Äëaside</td><td class="bad" id="savingsAmt">-$0.00</td></tr>
            <tr><td><b>Take‚Äëhome pay</b></td><td class="good" id="takeHome">$0.00</td></tr>
          </tbody>
        </table>

        <footer>
          Note: This is a simple estimator using flat withholding percentages and a savings set‚Äëaside. Real paychecks may include other items (FICA, benefits, deductions).
          <div class="credit">Created by Charles Richards For Julie Bear üêªüíö</div>
        </footer>
      </section>
    </div>

    <div class="sectionTitle">
      <h2>Car Savings Planner üöóüåº</h2>
      <div class="tiny">Set a car price and a timeline to see how much to save.</div>
    </div>

    <div class="grid">
      <section class="card">
        <h2>Planner Inputs</h2>

        <div class="row">
          <label for="carPrice">Car price ($)</label>
          <input id="carPrice" type="number" step="0.01" min="0" value="8000" />
        </div>

        <div class="row">
          <label for="carMode">Estimate by</label>
          <select id="carMode">
            <option value="monthly" selected>Monthly</option>
            <option value="yearly">Yearly</option>
          </select>
        </div>

        <div class="row">
          <label id="carTimeLabel" for="carTime">Months to save</label>
          <input id="carTime" type="number" step="1" min="1" value="12" />
        </div>

        <div class="btns">
          <button id="carReset">Reset planner</button>
        </div>
      </section>

      <section class="card">
        <h2>Planner Results</h2>

        <div class="kpis">
          <div class="k">
            <div class="t">You should save per month</div>
            <div class="v good" id="savePerMonth">$0.00</div>
          </div>
          <div class="k">
            <div class="t">You should save per year</div>
            <div class="v" id="savePerYear">$0.00</div>
          </div>
        </div>

        <table>
          <tbody>
            <tr><td>Car price</td><td id="carPriceOut">$0.00</td></tr>
            <tr><td id="carTimelineOutLabel">Timeline</td><td id="carTimelineOut">‚Äî</td></tr>
            <tr><td>Equivalent per month</td><td id="eqPerMonth">$0.00</td></tr>
            <tr><td>Equivalent per year</td><td id="eqPerYear">$0.00</td></tr>
          </tbody>
        </table>

        <footer>
          Tip: If you pick <b>Yearly</b>, this assumes equal saving each year. If you pick <b>Monthly</b>, it assumes equal saving each month.
        </footer>
      </section>
    </div>
  </div>

<script>
  const els = {
    hours: document.getElementById('hours'),
    rate: document.getElementById('rate'),
    state: document.getElementById('state'),
    federal: document.getElementById('federal'),
    savings: document.getElementById('savings'),
    savingsBase: document.getElementById('savingsBase'),
    reset: document.getElementById('reset'),
    copy: document.getElementById('copy'),
    copyStatus: document.getElementById('copyStatus'),

    grossKpi: document.getElementById('grossKpi'),
    takeHomeKpi: document.getElementById('takeHomeKpi'),

    gross: document.getElementById('gross'),
    taxableLabel: document.getElementById('taxableLabel'),
    taxable: document.getElementById('taxable'),
    stateAmt: document.getElementById('stateAmt'),
    fedAmt: document.getElementById('fedAmt'),
    taxTotal: document.getElementById('taxTotal'),
    afterTaxLabel: document.getElementById('afterTaxLabel'),
    afterTax: document.getElementById('afterTax'),
    savingsAmt: document.getElementById('savingsAmt'),
    takeHome: document.getElementById('takeHome'),

    exportTxt: document.getElementById('exportTxt'),

    carPrice: document.getElementById('carPrice'),
    carMode: document.getElementById('carMode'),
    carTime: document.getElementById('carTime'),
    carTimeLabel: document.getElementById('carTimeLabel'),
    carReset: document.getElementById('carReset'),

    savePerMonth: document.getElementById('savePerMonth'),
    savePerYear: document.getElementById('savePerYear'),
    carPriceOut: document.getElementById('carPriceOut'),
    carTimelineOutLabel: document.getElementById('carTimelineOutLabel'),
    carTimelineOut: document.getElementById('carTimelineOut'),
    eqPerMonth: document.getElementById('eqPerMonth'),
    eqPerYear: document.getElementById('eqPerYear')
  };

  const defaults = {
    hours: 40,
    rate: 20,
    state: 2.5,
    federal: 4,
    savings: 20,
    savingsBase: 'afterTax',

    carPrice: 8000,
    carMode: 'monthly',
    carTime: 12
  };

  const money = (n) => {
    const v = (Number.isFinite(n) ? n : 0);
    return v.toLocaleString(undefined, { style: 'currency', currency: 'USD' });
  };

  const clampNonNeg = (x) => Math.max(0, (Number.isFinite(x) ? x : 0));

  function readInputs() {
    const hours = clampNonNeg(parseFloat(els.hours.value));
    const rate = clampNonNeg(parseFloat(els.rate.value));
    const state = clampNonNeg(parseFloat(els.state.value)) / 100;
    const federal = clampNonNeg(parseFloat(els.federal.value)) / 100;
    const savings = clampNonNeg(parseFloat(els.savings.value)) / 100;
    const savingsBase = els.savingsBase.value;
    return { hours, rate, state, federal, savings, savingsBase };
  }

  function calc() {
    const { hours, rate, state, federal, savings, savingsBase } = readInputs();

    const gross = hours * rate;

    // Savings can be taken pre-tax (from gross) or post-tax (from after-tax pay).
    let savingsAmt = 0;
    let taxable = gross;

    if (savingsBase === 'gross') {
      // Pre-tax savings reduces the taxable base, so taxes go down.
      savingsAmt = gross * savings;
      taxable = Math.max(0, gross - savingsAmt);
      els.afterTaxLabel.textContent = 'Pay after taxes (after pre‚Äëtax savings)';
      els.taxableLabel.textContent = 'Taxable pay (gross ‚àí savings)';
    } else {
      // Taxes calculated on gross; savings comes out after taxes.
      taxable = gross;
      els.afterTaxLabel.textContent = 'Pay after taxes';
      els.taxableLabel.textContent = 'Taxable pay (basis for taxes)';
    }

    const stateAmt = taxable * state;
    const fedAmt = taxable * federal;
    const taxTotal = stateAmt + fedAmt;

    const afterTax = taxable - taxTotal;

    if (savingsBase === 'afterTax') {
      savingsAmt = afterTax * savings;
    }

    const takeHome = Math.max(0, afterTax - (savingsBase === 'afterTax' ? savingsAmt : 0));

    // For the pre-tax case, takeHome is already after-tax cash (savings removed pre-tax)
    // so show takeHome as afterTax.
    const displayedTakeHome = (savingsBase === 'gross') ? afterTax : takeHome;

    // Update UI
    els.grossKpi.textContent = money(gross);
    els.takeHomeKpi.textContent = money(displayedTakeHome);

    els.gross.textContent = money(gross);
    els.taxable.textContent = money(taxable);
    els.stateAmt.textContent = '-' + money(stateAmt);
    els.fedAmt.textContent = '-' + money(fedAmt);
    els.taxTotal.textContent = '-' + money(taxTotal);
    els.afterTax.textContent = money(afterTax);
    els.savingsAmt.textContent = '-' + money(savingsAmt);
    els.takeHome.textContent = money(displayedTakeHome);

    return { hours, rate, state, federal, savings, savingsBase, gross, taxable, stateAmt, fedAmt, taxTotal, afterTax, savingsAmt, takeHome: displayedTakeHome };
  }

  function setDefaults() {
    els.hours.value = defaults.hours;
    els.rate.value = defaults.rate;
    els.state.value = defaults.state;
    els.federal.value = defaults.federal;
    els.savings.value = defaults.savings;
    els.savingsBase.value = defaults.savingsBase;
    calc();
  }



  function readCar() {
    const price = clampNonNeg(parseFloat(els.carPrice.value));
    const mode = els.carMode.value;
    const t = Math.max(1, Math.floor(clampNonNeg(parseFloat(els.carTime.value))));
    return { price, mode, t };
  }

  function calcCar() {
    const { price, mode, t } = readCar();

    // Label the timeline input based on mode
    if (mode === 'yearly') {
      els.carTimeLabel.textContent = 'Years to save';
      els.carTimelineOutLabel.textContent = 'Timeline (years)';
    } else {
      els.carTimeLabel.textContent = 'Months to save';
      els.carTimelineOutLabel.textContent = 'Timeline (months)';
    }

    let perMonth = 0;
    let perYear = 0;

    if (price <= 0) {
      perMonth = 0;
      perYear = 0;
    } else if (mode === 'yearly') {
      perYear = price / t;
      perMonth = perYear / 12;
    } else {
      perMonth = price / t;
      perYear = perMonth * 12;
    }

    els.savePerMonth.textContent = money(perMonth);
    els.savePerYear.textContent = money(perYear);

    els.carPriceOut.textContent = money(price);
    els.carTimelineOut.textContent = String(t);
    els.eqPerMonth.textContent = money(perMonth);
    els.eqPerYear.textContent = money(perYear);

    return { price, mode, t, perMonth, perYear };
  }

  function resetCar() {
    els.carPrice.value = defaults.carPrice;
    els.carMode.value = defaults.carMode;
    els.carTime.value = defaults.carTime;
    calcCar();
  }

  function buildTextSummary() {
    const r = calc();
    const c = calcCar();
    const pct = (x) => (x * 100).toFixed(2) + '%';

    const baseText = (r.savingsBase === 'gross')
      ? 'gross (pre-tax)'
      : 'after-tax';

    const timeline = (c.mode === 'yearly') ? `${c.t} year(s)` : `${c.t} month(s)`;

    return [
      'Paycheck Take-Home Summary',
      `Hours: ${r.hours}`,
      `Rate: ${money(r.rate)}/hr`,
      `Gross: ${money(r.gross)}`,
      `Taxable base: ${money(r.taxable)}`,
      `State (${pct(r.state)}): -${money(r.stateAmt)}`,
      `Federal (${pct(r.federal)}): -${money(r.fedAmt)}`,
      `After tax: ${money(r.afterTax)}`,
      `Savings (${pct(r.savings)} from ${baseText}): -${money(r.savingsAmt)}`,
      `Take-home: ${money(r.takeHome)}`,
      '',
      'Car Savings Planner',
      `Car price: ${money(c.price)}`,
      `Timeline: ${timeline}`,
      `Save per month: ${money(c.perMonth)}`,
      `Save per year: ${money(c.perYear)}`,
      '',
      'Created by Charles Richards For Julie Bear'
    ].join('\n');
  }

  function exportTxt() {
    const text = buildTextSummary();
    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    const ts = new Date();
    const stamp = ts.toISOString().slice(0,10);
    a.href = url;
    a.download = `JulieBear_Paycheck_and_Car_Summary_${stamp}.txt`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }

  async function copySummary() {
    const lines = buildTextSummary();

    try {
      await navigator.clipboard.writeText(lines);
      els.copyStatus.textContent = 'Copied to clipboard ‚úÖ';
      setTimeout(() => els.copyStatus.textContent = '', 2000);
    } catch (e) {
      // Fallback
      const ta = document.createElement('textarea');
      ta.value = lines;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand('copy');
      document.body.removeChild(ta);
      els.copyStatus.textContent = 'Copied (fallback) ‚úÖ';
      setTimeout(() => els.copyStatus.textContent = '', 2000);
    }
  }

  // Wire up events
  ['input','change'].forEach(evt => {
    els.hours.addEventListener(evt, calc);
    els.rate.addEventListener(evt, calc);
    els.state.addEventListener(evt, calc);
    els.federal.addEventListener(evt, calc);
    els.savings.addEventListener(evt, calc);
    els.savingsBase.addEventListener(evt, calc);
  });

  els.reset.addEventListener('click', setDefaults);

  els.copy.addEventListener('click', copySummary);
  els.exportTxt.addEventListener('click', exportTxt);

  ['input','change'].forEach(evt => {
    els.carPrice.addEventListener(evt, calcCar);
    els.carMode.addEventListener(evt, calcCar);
    els.carTime.addEventListener(evt, calcCar);
  });
  els.carReset.addEventListener('click', resetCar);


  // Initial render
  calc();
  calcCar();
</script>
</body>
</html>
